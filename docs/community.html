<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8">
    
    <title>Community &mdash; Digital Humanities ToolKit (DHTK) 1.0.2 documentation</title>
    
    <link rel="stylesheet" type="text/css" href="_static/css/spc-bootstrap.css">
    <link rel="stylesheet" type="text/css" href="_static/css/spc-extend.css">
    <link rel="stylesheet" href="_static/enthought.css" type="text/css" >
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" >
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '1.0.2',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        LINK_SUFFIX: '.html',
        SOURCELINK_SUFFIX: '.txt',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/language_data.js"></script>
    <script type="text/javascript" src="_static/js/copybutton.js"></script>
    <script type="text/javascript" src="_static/js/wrap_on_dot.js"></script>
    <link rel="shortcut icon" href="_static/img/favicon.ico">
    <link rel="index" title="Index" href="genindex.html" >
    <link rel="search" title="Search" href="search.html" >
    <link rel="top" title="Digital Humanities ToolKit (DHTK) 1.0.2 documentation" href="index.html" >
    <link rel="prev" title="Architecture" href="architecture.html" > 
  </head>
  <body>
  <div class="container">
    <div class="header">
    </div>
  </div>

    <div class="container">
      <div class="main">
        
	<div class="row-fluid">
	  <div class="span12">
	    <div class="spc-navbar">
              
    <ul class="nav nav-pills pull-left">
        <li class="active"><a href="./index">home</a></li>
        <li class="active"><a href="./api.html">Core</a></li>
        <li class="active"><a href="./extensions.html">Extensions</a></li>
        <li class="active"><a href="./process.html">Processing</a></li>
	
        <li class="active"><a href="index.html">Digital Humanities ToolKit (DHTK) 1.0.2 documentation</a></li>
	 
    </ul>
              
              
    <ul class="nav nav-pills pull-right">
      <li class="active">
        <a href="genindex.html" title="General Index"
           accesskey="I">index</a>
      </li>
      <li class="active">
        <a href="py-modindex.html" title="Python Module Index"
           >modules</a>
      </li>
      <li class="active">
        <a href="architecture.html" title="Architecture"
           accesskey="P">previous</a>
      </li>
    </ul>
              
	    </div>
	  </div>
	</div>
        

	<div class="row-fluid">
      <div class="spc-rightsidebar span3">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="index.html">
              <img class="logo" src="_static/img/e-logo.png" alt="Logo">
            </a></p>
<h3><a href="index.html">Table of Contents</a></h3>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="intro.html">Get started</a></li>
<li class="toctree-l1"><a class="reference internal" href="architecture.html">Architecture</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Community</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#how-to-contribute-to-dhtk">How to contribute to DHTK?</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#contributing-to-dhtk">Contributing to DHTK</a></li>
<li class="toctree-l3"><a class="reference internal" href="#adding-new-functionalities">Adding new functionalities</a></li>
<li class="toctree-l3"><a class="reference internal" href="#dhtk-modularisation">DHTK modularisation</a></li>
<li class="toctree-l3"><a class="reference internal" href="#dataset-rdf">Dataset RDF</a></li>
<li class="toctree-l3"><a class="reference internal" href="#integrating-new-modules">Integrating new modules</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#contributors">Contributors</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#project-manager">Project Manager</a></li>
<li class="toctree-l3"><a class="reference internal" href="#technical-leaders">Technical Leaders</a></li>
<li class="toctree-l3"><a class="reference internal" href="#main-developers">Main Developers</a></li>
<li class="toctree-l3"><a class="reference internal" href="#student-contributors">Student Contributors</a></li>
</ul>
</li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="architecture.html"
                        title="previous chapter">Architecture</a></p>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>
        </div>
      </div>
          <div class="span9">
            
        <div class="bodywrapper">
          <div class="body" id="spc-section-body" role="main">
            
  <div class="section" id="community">
<h1>Community<a class="headerlink" href="#community" title="Permalink to this headline">¶</a></h1>
<p>We are proud to say that the DHTK community is growing continuously.
Being created by the researchers of the “Informatique pour les Sciences Humaines” of the University of Lausanne,
the project has seen an increased interest from both the teachers of other sections and the students,
both from Bachelor and Master programs. DHTK was also presented at the Second Workshop on Humanities in
the Semantic Web (WHiSeII) co-located with 16th International Semantic Web Conference (ISWC 2017),
held in Vienna, Austria in 2017. Multiple visitors of the workshop have expressed interest in DHTK and
the project was well received. As such, people from different walks of life from different parts of the
world have already become a part of our community. You can do so too by contributing to this open source
project.</p>
<div class="section" id="how-to-contribute-to-dhtk">
<h2>How to contribute to DHTK?<a class="headerlink" href="#how-to-contribute-to-dhtk" title="Permalink to this headline">¶</a></h2>
<p>DHTK is an open-source team effort.
Contributions are essential to our survival, we are thankful for any contribution and are happy to welcome you to the
DHTK community!</p>
<p>Before planning any improvement or addition to DHTK, please write us at: <a class="reference external" href="mailto:davide&#46;picca&#37;&#52;&#48;unil&#46;ch">davide<span>&#46;</span>picca<span>&#64;</span>unil<span>&#46;</span>ch</a></p>
<div class="section" id="contributing-to-dhtk">
<h3>Contributing to DHTK<a class="headerlink" href="#contributing-to-dhtk" title="Permalink to this headline">¶</a></h3>
<p>DHTK is a collective open source effort. To contribute and help us improve, visit our <a href="#id2"><span class="problematic" id="id3">`GitHub page &lt;&gt;`_</span></a>.
You will find instructions on how to clone the DHTK repository, create your own branch and how to submit your changes
for review as a merge request. All suggestions and improvements are welcomed, they don’t have to be major changes!</p>
</div>
<div class="section" id="adding-new-functionalities">
<h3>Adding new functionalities<a class="headerlink" href="#adding-new-functionalities" title="Permalink to this headline">¶</a></h3>
<p>Adding new functionalities to DHTK is as simple as modifying the relevant file.
If a new Python function, class or method is required to improve DHTK usability, then
contributor can add then directly to the code and submit a merge request.</p>
</div>
<div class="section" id="dhtk-modularisation">
<h3>DHTK modularisation<a class="headerlink" href="#dhtk-modularisation" title="Permalink to this headline">¶</a></h3>
<p>DHTK is divided into three parts as described in the <a class="reference external" href="./architecture.html">architecture</a> page.
The three parts are organised in separate directories (core, extensions, processing) for easier identification
and navigation. Active development is expected mostly for the extension processing modules as new datasets and methods are added to
DHTK.</p>
</div>
<div class="section" id="dataset-rdf">
<h3>Dataset RDF<a class="headerlink" href="#dataset-rdf" title="Permalink to this headline">¶</a></h3>
<p>A ready to use RDF file should be made available to the user for each new DHTK extension module. These files can be
stored in any remotely accessible locations, though we would recommend using <a class="reference external" href="https://about.zenodo.org/">Zenodo</a>.
For reproducibility and transparency, the full pipeline used to produce the RDF files (including instructions on
how to use it should also be made available under the <strong>“builder directory”</strong> of the module.</p>
</div>
<div class="section" id="integrating-new-modules">
<h3>Integrating new modules<a class="headerlink" href="#integrating-new-modules" title="Permalink to this headline">¶</a></h3>
<p>DHTK core modules are responsible to locate and load any module within the extension directory.
Due to the modular architecture of DHTK, these extensions can be easily developed as self-sufficient Python modules,
which are alter integrated into the DHTK framework. Doing so requires two steps:</p>
<ol class="arabic simple">
<li><p>All new module must be place inside this directory <em>(./dhtk/extensions/new_module)</em></p></li>
<li><p>The __init__ file for the module must contains a class named Module, inheriting from the <a class="reference external" href="./extensions.html">AbstractExtension</a> blueprint.</p></li>
</ol>
<p>The DHTK AbstractExtension class contains most of the required methods to prepare a module for use.
The new <strong>Module class</strong> is essentially a wrapper around a DHTK extension, defining the attributes <strong>name</strong> and <strong>url</strong>
(name of the extension and location of the RDF data file to use on with the local SPARQL endpoint), and
the <strong>methods to query and save the results</strong>. Any additional method that improves the Module class can be freely
included.</p>
<p><em>Gutenberg __init__:</em></p>
<p><strong>1) Define required name and url attributes</strong></p>
<p>Note the addition of the wrapper attribute which is used to reference the “query class” object</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">settings</span><span class="p">,</span> <span class="n">client</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">settings</span><span class="p">,</span> <span class="n">client</span><span class="p">)</span>

        <span class="c1"># Defaults required to be defined for each extension</span>
<span class="hll">        <span class="bp">self</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="s2">&quot;gutenberg&quot;</span>
</span><span class="hll">        <span class="bp">self</span><span class="o">.</span><span class="n">url</span> <span class="o">=</span> <span class="s2">&quot;https://sandbox.zenodo.org/record/709580/files/gutenberg_reasoned_final.ttl?download=1&quot;</span>
</span>
        <span class="c1"># Instantiate a Corpus</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_corpus</span> <span class="o">=</span> <span class="n">Corpus</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="o">.</span><span class="n">capitalize</span><span class="p">()</span><span class="si">}</span><span class="s2"> Corpus&quot;</span><span class="p">,</span>
                              <span class="n">description</span><span class="o">=</span><span class="s2">&quot;Gutenberg Books&quot;</span><span class="p">,</span>
                              <span class="n">settings</span><span class="o">=</span><span class="n">settings</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_check_endpoint</span><span class="p">()</span>

        <span class="c1"># Get the extension</span>
<span class="hll">        <span class="bp">self</span><span class="o">.</span><span class="n">wrapper</span> <span class="o">=</span> <span class="n">GutenbergData</span><span class="p">(</span><span class="n">sparql_endpoint</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">ENDPOINT</span><span class="p">,</span> <span class="n">logs</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">LOGS</span><span class="p">)</span>
</span></pre></div>
</div>
<p><strong>2) Defining required methods.</strong></p>
<p>Two methods are required to be defined. The <em>get(what, name, add)</em> provides a unified wrapper around
the possible queries, simplifying the use of new extensions. The <em>save()</em> method stores the retrieved data on disk.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="hll">    <span class="k">def</span> <span class="nf">get</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">what</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;all&quot;</span><span class="p">,</span> <span class="n">add</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
</span>        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Extension wrapper method to call all DHTK functionalities with a simple syntax</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        what: string</span>
<span class="sd">            Type of information to retrieve.</span>
<span class="sd">            DHTK Gutenberg has the options to search for books, authors, shelves and subjects</span>
<span class="sd">        name: string [default: &quot;all&quot;]</span>
<span class="sd">            Name identifying the specific information to retrieve.</span>
<span class="sd">            If all, retrieve all information available</span>
<span class="sd">        add: boolean [default: False]</span>
<span class="sd">            Add query results to Corpus</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        Requested book information from Gutenberg dataset</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="c1"># Prepare arguments</span>
        <span class="n">name</span> <span class="o">=</span> <span class="n">name</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span>
        <span class="n">what</span> <span class="o">=</span> <span class="n">what</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span>

        <span class="k">if</span> <span class="n">what</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s2">&quot;bo&quot;</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">name</span> <span class="o">==</span> <span class="s2">&quot;all&quot;</span><span class="p">:</span>
                <span class="n">response</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">wrapper</span><span class="o">.</span><span class="n">all_books</span><span class="p">()</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">response</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">wrapper</span><span class="o">.</span><span class="n">search_by_title</span><span class="p">(</span><span class="n">name</span><span class="p">)</span>
                <span class="k">if</span> <span class="n">add</span><span class="p">:</span>
                    <span class="n">add</span> <span class="o">=</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">wrapper</span><span class="o">.</span><span class="n">get_book</span><span class="p">(</span><span class="n">book</span><span class="p">[</span><span class="s2">&quot;book_id&quot;</span><span class="p">])</span> <span class="k">for</span> <span class="n">book</span> <span class="ow">in</span> <span class="n">response</span><span class="p">]</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">_corpus</span><span class="o">.</span><span class="n">add_books</span><span class="p">(</span><span class="n">add</span><span class="p">)</span>

                <span class="n">response</span> <span class="o">=</span> <span class="p">[</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">book</span><span class="p">[</span><span class="s1">&#39;title&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2"> by </span><span class="si">{</span><span class="n">book</span><span class="p">[</span><span class="s1">&#39;author&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2"> (</span><span class="si">{</span><span class="n">book</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;language&#39;</span><span class="p">,</span> <span class="s1">&#39;unknown&#39;</span><span class="p">)</span><span class="si">}</span><span class="s2">)&quot;</span> \
                            <span class="k">for</span> <span class="n">book</span> <span class="ow">in</span> <span class="n">response</span><span class="p">]</span>

        <span class="k">elif</span> <span class="n">what</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s2">&quot;au&quot;</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">name</span> <span class="o">==</span> <span class="s2">&quot;all&quot;</span><span class="p">:</span>
                <span class="n">response</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">wrapper</span><span class="o">.</span><span class="n">all_authors</span><span class="p">()</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">response</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">wrapper</span><span class="o">.</span><span class="n">search_by_author</span><span class="p">(</span><span class="n">name</span><span class="p">)</span>
                <span class="k">if</span> <span class="n">add</span><span class="p">:</span>
                    <span class="n">add</span> <span class="o">=</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">wrapper</span><span class="o">.</span><span class="n">get_author</span><span class="p">(</span><span class="n">author</span><span class="p">[</span><span class="s2">&quot;author_id&quot;</span><span class="p">])</span> <span class="k">for</span> <span class="n">author</span> <span class="ow">in</span> <span class="n">response</span><span class="p">]</span>
                    <span class="k">for</span> <span class="n">author</span> <span class="ow">in</span> <span class="n">add</span><span class="p">:</span>
                        <span class="k">for</span> <span class="n">book</span> <span class="ow">in</span> <span class="n">author</span><span class="o">.</span><span class="n">get_bibliography</span><span class="p">():</span>
                            <span class="bp">self</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">what</span><span class="o">=</span><span class="s2">&quot;book&quot;</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="n">book</span><span class="p">,</span> <span class="n">add</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

                <span class="n">response</span> <span class="o">=</span> <span class="p">[</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">author</span><span class="p">[</span><span class="s1">&#39;author&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2"> (</span><span class="si">{</span><span class="n">author</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;alias&#39;</span><span class="p">,</span> <span class="s1">&#39;no alias&#39;</span><span class="p">)</span><span class="si">}</span><span class="s2">)&quot;</span> <span class="k">for</span> <span class="n">author</span> <span class="ow">in</span> <span class="n">response</span><span class="p">]</span>

        <span class="k">elif</span> <span class="n">what</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s2">&quot;sh&quot;</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">name</span> <span class="o">==</span> <span class="s2">&quot;all&quot;</span><span class="p">:</span>
                <span class="n">response</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">wrapper</span><span class="o">.</span><span class="n">all_bookshelves</span><span class="p">()</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">response</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">wrapper</span><span class="o">.</span><span class="n">search_by_bookshelf</span><span class="p">(</span><span class="n">name</span><span class="p">)</span>
                <span class="k">if</span> <span class="n">add</span><span class="p">:</span>
                    <span class="n">add</span> <span class="o">=</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">wrapper</span><span class="o">.</span><span class="n">get_book</span><span class="p">(</span><span class="n">book</span><span class="p">[</span><span class="s2">&quot;book_id&quot;</span><span class="p">])</span> <span class="k">for</span> <span class="n">book</span> <span class="ow">in</span> <span class="n">response</span><span class="p">]</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">_corpus</span><span class="o">.</span><span class="n">add_books</span><span class="p">(</span><span class="n">add</span><span class="p">)</span>

                <span class="n">response</span> <span class="o">=</span> <span class="p">[</span><span class="sa">f</span><span class="s2">&quot;[SHELF: </span><span class="si">{</span><span class="n">shelf</span><span class="p">[</span><span class="s1">&#39;bookshelf&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">]: </span><span class="si">{</span><span class="n">shelf</span><span class="p">[</span><span class="s1">&#39;title&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">  by </span><span class="si">{</span><span class="n">shelf</span><span class="p">[</span><span class="s1">&#39;author&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span> \
                            <span class="k">for</span> <span class="n">shelf</span> <span class="ow">in</span> <span class="n">response</span><span class="p">]</span>

        <span class="k">elif</span> <span class="n">what</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s2">&quot;su&quot;</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">name</span> <span class="o">==</span> <span class="s2">&quot;all&quot;</span><span class="p">:</span>
                <span class="n">response</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">wrapper</span><span class="o">.</span><span class="n">all_subjects</span><span class="p">()</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">response</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">wrapper</span><span class="o">.</span><span class="n">search_by_subject</span><span class="p">(</span><span class="n">name</span><span class="p">)</span>

                <span class="k">if</span> <span class="n">add</span><span class="p">:</span>
                    <span class="n">add</span> <span class="o">=</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">wrapper</span><span class="o">.</span><span class="n">get_book</span><span class="p">(</span><span class="n">book</span><span class="p">[</span><span class="s2">&quot;book_id&quot;</span><span class="p">])</span> <span class="k">for</span> <span class="n">book</span> <span class="ow">in</span> <span class="n">response</span><span class="p">]</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">_corpus</span><span class="o">.</span><span class="n">add_books</span><span class="p">(</span><span class="n">add</span><span class="p">)</span>

                <span class="n">response</span> <span class="o">=</span> <span class="p">[</span><span class="sa">f</span><span class="s2">&quot;[SUBJECTS: </span><span class="si">{</span><span class="n">subject</span><span class="p">[</span><span class="s1">&#39;subject&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">]: </span><span class="si">{</span><span class="n">subject</span><span class="p">[</span><span class="s1">&#39;title&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">  by </span><span class="si">{</span><span class="n">subject</span><span class="p">[</span><span class="s1">&#39;author&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span> \
                            <span class="k">for</span> <span class="n">subject</span> <span class="ow">in</span> <span class="n">response</span><span class="p">]</span>
                <span class="n">response</span><span class="o">.</span><span class="n">sort</span><span class="p">()</span>


        <span class="k">else</span><span class="p">:</span>
            <span class="n">warnings</span><span class="o">.</span><span class="n">warn</span><span class="p">(</span><span class="s2">&quot;Not a valid option&quot;</span><span class="p">)</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Allowed arguments are:</span><span class="se">\n</span><span class="s2">book</span><span class="se">\n</span><span class="s2">author</span><span class="se">\n</span><span class="s2">shelf</span><span class="se">\n</span><span class="s2">subject&quot;</span><span class="p">)</span>
            <span class="k">return</span>

        <span class="k">return</span> <span class="n">response</span>

<span class="hll">    <span class="k">def</span> <span class="nf">save</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span>
        <span class="n">path</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_corpus</span><span class="o">.</span><span class="n">path</span><span class="p">()</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="n">path</span><span class="o">.</span><span class="n">is_dir</span><span class="p">():</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">CONFIGS</span><span class="o">.</span><span class="n">make_dirs</span><span class="p">(</span><span class="n">path</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_corpus</span><span class="o">.</span><span class="n">download_corpus</span><span class="p">()</span>

        <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">path</span> <span class="o">/</span> <span class="s2">&quot;corpus.pk&quot;</span><span class="p">,</span> <span class="s1">&#39;wb&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">pickled_file</span><span class="p">:</span>
            <span class="n">pickle</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_corpus</span><span class="o">.</span><span class="n">to_pandas_dataframe</span><span class="p">(),</span> <span class="n">pickled_file</span><span class="p">,</span> <span class="n">protocol</span><span class="o">=</span><span class="n">pickle</span><span class="o">.</span><span class="n">HIGHEST_PROTOCOL</span><span class="p">)</span>
        <span class="n">pickled_file</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</pre></div>
</div>
<p><strong>3) Defining additional methods.</strong></p>
<p>Gutenberg’s Module class contains two extra methods. The suggested <em>welcome()</em> method
automatically provides the user with the dataset statistics. This method is called when a module is loaded,
and can be used to provide the user with any (or no) information.</p>
<p>The <em>corpus</em> method is not defined in parent AbstractExtension class, but it provides a simpler way to modify
a corpus’ settings and retrieve its representation, being a suitable intermediate method to search for book and author
information.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="hll">    <span class="k">def</span> <span class="nf">welcome</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span>
        <span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">stats</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">wrapper</span><span class="o">.</span><span class="n">statistics</span><span class="p">()</span>
                <span class="k">break</span>
            <span class="k">except</span> <span class="n">RemoteDisconnected</span><span class="p">:</span>
                <span class="k">pass</span>
        <span class="n">timestamp</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">CONFIGS</span><span class="o">.</span><span class="n">modules</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;gutenberg&#39;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">timestamp</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">DHTK Gutenberg statistics:</span><span class="si">{</span><span class="n">stats</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">timestamp</span> <span class="o">=</span> <span class="n">timestamp</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">%d</span><span class="s2"> %b %y&quot;</span><span class="p">)</span>
            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">DHTK Gutenberg statistics:</span><span class="se">\n</span><span class="s2">Last update: </span><span class="si">{</span><span class="n">timestamp</span><span class="si">}{</span><span class="n">stats</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

<span class="hll">    <span class="k">def</span> <span class="nf">corpus</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">description</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
</span>        <span class="k">if</span> <span class="n">name</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_corpus</span><span class="o">.</span><span class="n">name</span><span class="p">(</span><span class="n">name</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">description</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_corpus</span><span class="o">.</span><span class="n">description</span><span class="p">(</span><span class="n">description</span><span class="p">)</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_corpus</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="contributors">
<h2>Contributors<a class="headerlink" href="#contributors" title="Permalink to this headline">¶</a></h2>
<div class="section" id="project-manager">
<h3>Project Manager<a class="headerlink" href="#project-manager" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>Davide Picca</p></li>
</ul>
<p>Maitre d’Enseignement et de Recherche at the department of <a class="reference external" href="http://unil.ch/sli">Language and Information Science</a> at the University of Lausanne (Switzerland).</p>
</div>
<div class="section" id="technical-leaders">
<h3>Technical Leaders<a class="headerlink" href="#technical-leaders" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>Mattia Egloff</p></li>
</ul>
<p>Phd Candidate and researcher at the department of <a class="reference external" href="http://unil.ch/sli">Language and Information Science</a> at the University of Lausanne (Switzerland).</p>
</div>
<div class="section" id="main-developers">
<h3>Main Developers<a class="headerlink" href="#main-developers" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>Alessandro Amadou</p></li>
</ul>
<p>Research fellow at the <a class="reference external" href="http://www.insight-centre.org">Insight Centre for Data Analytics</a>, National University of Ireland, Galway.</p>
</div>
<div class="section" id="student-contributors">
<h3>Student Contributors<a class="headerlink" href="#student-contributors" title="Permalink to this headline">¶</a></h3>
<p>Students of UNIL’s Python object oriented programming class contribute to the project.</p>
<ul class="simple">
<li><p>Loïc Aubrays</p></li>
<li><p>Asiyeh Balabeglookaviji</p></li>
<li><p>Gavon Balharry</p></li>
<li><p>Maxime Bony</p></li>
<li><p>Rafael Bruni Baschino</p></li>
<li><p>Noémie Carette</p></li>
<li><p>Leonardo Cavaliere</p></li>
<li><p>Lucien Chapuisat</p></li>
<li><p>Nahuel Degonda</p></li>
<li><p>Renato Diaz</p></li>
<li><p>Petra Draskovic</p></li>
<li><p>Olivia Edelman</p></li>
<li><p>Mounira Elmezrigui</p></li>
<li><p>Daniel Escoval</p></li>
<li><p>David Flühmann</p></li>
<li><p>Cyrille Gay-Crosier</p></li>
<li><p>Saara Jones</p></li>
<li><p>Basile Maillard</p></li>
<li><p>Vijeany Manguila</p></li>
<li><p>Kirill Melnikov</p></li>
<li><p>Robin Pitteloud</p></li>
<li><p>Loris Rimaz</p></li>
<li><p>Daniela-Maria Toma</p></li>
<li><p>Fabio Torres Cabral</p></li>
<li><p>Sorcha Walsh</p></li>
</ul>
</div>
</div>
</div>


          </div>
        </div>
          </div>
        </div>
      </div>
    </div>

    <div class="container container-navbar-bottom">
      <div class="spc-navbar">
        
      </div>
    </div>
    <div class="container">
    <div class="footer">
    <div class="row-fluid">
    <ul class="inline pull-left">
      <li>
        &copy; Copyright 2020, Davide Picca, Mattia Egloff and Carlos Neves
      </li>
      <li>
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 3.3.1.
      </li>
    </ul>
    </div>
    </div>
    </div>
  </body>
</html>