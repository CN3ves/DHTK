<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8">
    
    <title>User Guide &mdash; DHTK 1.0.2 documentation</title>
    
    <link rel="stylesheet" type="text/css" href="_static/css/spc-bootstrap.css">
    <link rel="stylesheet" type="text/css" href="_static/css/spc-extend.css">
    <link rel="stylesheet" href="_static/enthought.css" type="text/css" >
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" >
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '1.0.2',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        LINK_SUFFIX: '.html',
        SOURCELINK_SUFFIX: '.txt',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/language_data.js"></script>
    <script type="text/javascript" src="_static/js/copybutton.js"></script>
    <script type="text/javascript" src="_static/js/wrap_on_dot.js"></script>
    <link rel="shortcut icon" href="_static/img/favicon.ico">
    <link rel="index" title="Index" href="genindex.html" >
    <link rel="search" title="Search" href="search.html" >
    <link rel="top" title="DHTK 1.0.2 documentation" href="index.html" >
    <link rel="up" title="Documentation" href="1_doc.html" >
    <link rel="next" title="How to contribute to DHTK?" href="13_devs.html" >
    <link rel="prev" title="Getting started" href="11_intro.html" > 
  </head>
  <body>
  <div class="container">
    <div class="header">
    </div>
  </div>

    <div class="container">
      <div class="main">
        
	<div class="row-fluid">
	  <div class="span12">
	    <div class="spc-navbar">
              
    <ul class="nav nav-pills pull-left">
	
        <li class="active"><a href="index.html">DHTK 1.0.2 documentation</a></li>
	
          <li class="active"><a href="1_doc.html" accesskey="U">Documentation</a></li> 
    </ul>
              
              
    <ul class="nav nav-pills pull-right">
      <li class="active">
        <a href="genindex.html" title="General Index"
           accesskey="I">index</a>
      </li>
      <li class="active">
        <a href="13_devs.html" title="How to contribute to DHTK?"
           accesskey="N">next</a>
      </li>
      <li class="active">
        <a href="11_intro.html" title="Getting started"
           accesskey="P">previous</a>
      </li>
    </ul>
              
	    </div>
	  </div>
	</div>
        

	<div class="row-fluid">
      <div class="spc-rightsidebar span3">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="index.html">
              <img class="logo" src="_static/img/e-logo.png" alt="Logo">
            </a></p>
<h3><a href="index.html">Table of Contents</a></h3>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="index.html">Home</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="1_doc.html">Documentation</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="11_intro.html">Getting started</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">User guide</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#start-dhtk">Start DHTK</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#loading-dhtk">Loading DHTK</a></li>
<li class="toctree-l4"><a class="reference internal" href="#setting-up-configurations">Setting up Configurations</a></li>
<li class="toctree-l4"><a class="reference internal" href="#modifying-configurations">Modifying configurations</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#loading-extensions">Loading extensions</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#gutenberg">Gutenberg</a><ul>
<li class="toctree-l5"><a class="reference internal" href="#searching-gutenberg">Searching Gutenberg</a></li>
<li class="toctree-l5"><a class="reference internal" href="#get-gutenberg-s-metadata">Get Gutenberg’s metadata</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#dbpedia">Dbpedia</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#search-metadata">Search metadata</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="13_devs.html">Developer guide</a></li>
<li class="toctree-l2"><a class="reference internal" href="14_api.html">API details</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="2_community.html">Community</a></li>
<li class="toctree-l1"><a class="reference internal" href="3_faq.html">FAQ</a></li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="11_intro.html"
                        title="previous chapter">Getting started</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="13_devs.html"
                        title="next chapter">How to contribute to DHTK?</a></p>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>
        </div>
      </div>
          <div class="span9">
            
        <div class="bodywrapper">
          <div class="body" id="spc-section-body" role="main">
            
  <div class="section" id="user-guide">
<h1>User Guide<a class="headerlink" href="#user-guide" title="Permalink to this headline">¶</a></h1>
<div class="section" id="start-dhtk">
<h2>Start DHTK<a class="headerlink" href="#start-dhtk" title="Permalink to this headline">¶</a></h2>
<div class="section" id="loading-dhtk">
<h3>Loading DHTK<a class="headerlink" href="#loading-dhtk" title="Permalink to this headline">¶</a></h3>
<p>As a Python module, DHTK can be accessed from any Python console or environment
by <a class="reference external" href="https://docs.python.org/3/reference/import.html?highlight=import">importing</a>
it as normally.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">dhtk</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># ###################################################</span>
<span class="c1"># Welcome to the Digital Humanities ToolKit,</span>
<span class="c1"># the  user - friendly Python API for</span>
<span class="c1"># Digital Humanities research.</span>
<span class="c1">#</span>
<span class="c1"># For more information, please visit DHTK &#39;s website:</span>
<span class="c1"># [https://dhtk.unil.ch/]</span>
<span class="c1"># ####################################################</span>
</pre></div>
</div>
</div>
<div class="section" id="setting-up-configurations">
<h3>Setting up Configurations<a class="headerlink" href="#setting-up-configurations" title="Permalink to this headline">¶</a></h3>
<p>The first step to use DHTK is to set the configurations to use by calling
<a class="reference external" href="14_api.html#start">dhtk.start()</a></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">configs</span> <span class="o">=</span> <span class="n">dhtk</span><span class="o">.</span><span class="n">start</span><span class="p">()</span>
</pre></div>
</div>
<p>This function instantiates DHTK’s configuration manager class, which searches for the user’s saved
configurations. It automatically prints all current setting for the user’s information.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Current DHTK settings:</span>
<span class="c1"># [user]: me</span>
<span class="c1"># [wd]: /Users/me/DHTK/me</span>
<span class="c1"># [endpoint]: localhost</span>
<span class="hll"><span class="c1"># [dataset]:</span>
</span><span class="c1"># [modules]: {}</span>
<span class="c1"># [_file]: /Users/me/DHTK/me/me.config</span>
<span class="c1"># [logger]: &lt;Logger dhtk (DEBUG)&gt;</span>
<span class="c1"># [_port]: 3030</span>
<span class="c1"># [_connect]: 30</span>
</pre></div>
</div>
<p>DHTK contains a number of settings which help users making repetitive use of the package.
DHTK will have a default value for most settings, but the user may want to pay
the most attention to the following:</p>
<ul class="simple">
<li><p><em>[user]</em>: By default, DHTK try to access the system’s information to identify the user. It is possible to change this default user name, which may be particularly relevant for shared machines.</p></li>
<li><p><em>[wd]</em>: By default, DHTK tries to set up its working directory at the user’ home directory. If the user wishes to use another directory, it this can be modified.</p></li>
</ul>
<details>
<summary><b><i>!!!</i></b></summary><div class="admonition note">
<p class="admonition-title">Note</p>
<p>DHTK uses both <em>wd</em> and <em>user</em> to search for saved setting. If these are changed for any reason, the user’s previous settings may not be indentified.</p>
</div>
</details>
<br><ul class="simple">
<li><p><em>[endpoint]</em>: DHTK uses a local Fuseki server as its default SPARQL endpoint for queries. To use a remote (on-line) endpoints, it can be dones by adding the URL (link) to the</p></li>
</ul>
<p>remote endpoint.</p>
<ul class="simple">
<li><p><em>[dataset]</em>: DHTK is a modular packages to each extensions can be easily added. This setting determines</p></li>
</ul>
<p>which of the available extension modules DHTK with load.</p>
<details>
<summary><b><i>!!!</i></b></summary><div class="admonition note">
<p class="admonition-title">Note</p>
<p>As illustrated above, dataset does not have a default value and must be set the first time DHTK is used.</p>
</div>
</details>
<br><div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference external" href="141_core.html#settings">Settings class</a></p>
</div>
</div>
<div class="section" id="modifying-configurations">
<h3>Modifying configurations<a class="headerlink" href="#modifying-configurations" title="Permalink to this headline">¶</a></h3>
<p>Configurations can be <em>set directly</em> by passing their values as keyword arguments to the dhtk.start function.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">configs</span> <span class="o">=</span> <span class="n">dhtk</span><span class="o">.</span><span class="n">start</span><span class="p">(</span><span class="n">user</span><span class="o">=</span><span class="s2">&quot;Picca&quot;</span><span class="p">,</span>
                     <span class="n">wd</span><span class="o">=</span><span class="s2">&quot;MyDir&quot;</span><span class="p">,</span>
                     <span class="n">endpoint</span><span class="o">=</span><span class="s2">&quot;http://dhtk.unil.ch/gutenberg/sparql&quot;</span><span class="p">,</span>
                     <span class="n">dataset</span><span class="o">=</span><span class="s2">&quot;gutenberg&quot;</span><span class="p">)</span>
<span class="c1"># Current DHTK settings:</span>
<span class="c1"># [user]: Picca</span>
<span class="c1"># [wd]: MyDir/Picca</span>
<span class="c1"># [endpoint]: http://dhtk.unil.ch/gutenberg/sparql</span>
<span class="c1"># [dataset]: gutenberg</span>
<span class="c1"># [modules]: {}</span>
<span class="c1"># [_file]: MyDir/Picca/Picca.config</span>
<span class="c1"># [logger]: &lt;Logger dhtk (DEBUG)&gt;</span>
<span class="c1"># [_port]: 3030</span>
<span class="c1"># [_connect]: 30</span>
</pre></div>
</div>
<p>Alternatively, all settings can be <em>modified</em> using Python’s dot notation to access the configuration
object’s attributes. For example, updating the user name is as simple as <code class="code python docutils literal notranslate"><span class="name"><span class="pre">configs</span></span><span class="operator"><span class="pre">.</span></span><span class="name"><span class="pre">user</span></span> <span class="operator"><span class="pre">=</span></span> <span class="literal string double"><span class="pre">“egloff”</span></span></code></p>
</div>
</div>
<div class="section" id="loading-extensions">
<h2>Loading extensions<a class="headerlink" href="#loading-extensions" title="Permalink to this headline">¶</a></h2>
<p>Using the the settings, DHTK will determine which SPARQL endpoint to connect and which
extension module to load. These two functionalities
are all handled by the function <a class="reference external" href="14_api.html#get_module">dhtk.get_module()</a>.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">configs</span> <span class="o">=</span> <span class="n">dhtk</span><span class="o">.</span><span class="n">start</span><span class="p">(</span><span class="n">user</span><span class="o">=</span><span class="s2">&quot;Picca&quot;</span><span class="p">,</span>
                     <span class="n">wd</span><span class="o">=</span><span class="s2">&quot;MyDir&quot;</span><span class="p">,</span>
                     <span class="n">endpoint</span><span class="o">=</span><span class="s2">&quot;http://dhtk.unil.ch/gutenberg/sparql&quot;</span><span class="p">,</span>
                     <span class="n">dataset</span><span class="o">=</span><span class="s2">&quot;gutenberg&quot;</span><span class="p">)</span>
<span class="c1"># Current DHTK settings:</span>
<span class="c1"># [user]: Picca</span>
<span class="c1"># [wd]: MyDir/Picca</span>
<span class="c1"># [endpoint]: http://dhtk.unil.ch/gutenberg/sparql</span>
<span class="c1"># [dataset]: gutenberg</span>
<span class="c1"># [modules]: {}</span>
<span class="c1"># [_file]: MyDir/Picca/Picca.config</span>
<span class="c1"># [logger]: &lt;Logger dhtk (DEBUG)&gt;</span>
<span class="c1"># [_port]: 3030</span>
<span class="c1"># [_connect]: 30</span>
</pre></div>
</div>
<p>Currently, DHTK includes the following extensions:</p>
<ul class="simple">
<li><p><a class="reference external" href="./intro#gutenberg">Project Gutenberg</a></p></li>
<li><p><a class="reference external" href="/intro#auchinleck/">Auchinkleck manuscript</a></p></li>
</ul>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference external" href="141_core.html#sparql-endpoint">Client class</a> and <a class="reference external" href="141_core.html#sparql-endpoint">DatasetLoader class</a></p>
</div>
<div class="section" id="gutenberg">
<h3>Gutenberg<a class="headerlink" href="#gutenberg" title="Permalink to this headline">¶</a></h3>
<p>DHTK’s Gutenberg extension dataset allows you to easily query <a class="reference external" href="gutenberg.org/">Gutenberg.org</a>
for <strong>books, authors, bookshelves and subjects</strong>, retrieving all the available information as a Corpus.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">dhtk_configurations</span><span class="o">.</span><span class="n">dataset</span>
<span class="c1"># &#39;gutenberg&#39;</span>

<span class="n">gutenberg</span> <span class="o">=</span> <span class="n">dhtk</span><span class="o">.</span><span class="n">get_module</span><span class="p">(</span><span class="n">dhtk_configurations</span><span class="p">)</span>
<span class="c1"># DHTK Gutenberg statistics:</span>
<span class="c1"># Last update: 26 Dec 20</span>
<span class="c1"># number of books        :	 56913</span>
<span class="c1"># number of authors      :	 21031</span>
<span class="c1"># number of bookshelves  :	   337</span>
<span class="c1"># number of subjects     :	 34045</span>
</pre></div>
</div>
<p>DHTK provides a simple dictionary-like syntax to search Guntenberg’s dataset using its wrapper method
<a class="reference external" href="./142_ext.html#AbstractExtension.get">.get()</a>. This method allows the user to query the entire dataset using
only a small number of keyword arguments:</p>
<ul class="simple">
<li><p><em>what</em> to search for.</p></li>
<li><p><em>name</em> of what is being searched. If no name is provided, all available options are retrieved.</p></li>
<li><p><em>add</em> to corpus or just search results?</p></li>
</ul>
<div class="section" id="searching-gutenberg">
<h4>Searching Gutenberg<a class="headerlink" href="#searching-gutenberg" title="Permalink to this headline">¶</a></h4>
<p>To <strong>search</strong> Gutenberg’s data, set <em>add=False</em>. Alternatively, since this is de default value, this
argument can be simply ignored. This returns either:</p>
<p><strong>1)</strong> a list of books matching the bookshelf or subject queried or
<strong>2)</strong> a dictionary of books or authors matching the query.</p>
<details>
<summary><b><i>!!!</i></b></summary><div class="admonition note">
<p class="admonition-title">Note</p>
<p>The difference in value returns is related to the fact that searching a bookshelf or a subject is a more</p>
</div>
<p>general query and does not return a collection of book or author objects, but only the book titles.
This means that no metadata is returns with this queries. On the other hand, returning books and author queries as a
dictionary makes it easier to retrieve and explore individual entries using Python.</p>
</details>
<br><p class="rubric"><strong>Searching for a bookshelf</strong></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">bookshelves</span> <span class="o">=</span> <span class="n">gutenberg</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">what</span><span class="o">=</span><span class="s2">&quot;shelves&quot;</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;Precursors of Science Fiction&quot;</span><span class="p">,</span> <span class="n">add</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="n">bookshelves</span>
<span class="c1"># [&#39;[SHELF: Precursors of Science Fiction]: The Dominion in 1983  by Centennius, Ralph&#39;,</span>
<span class="c1"># &#39;[SHELF: Precursors of Science Fiction]: Hartmann, the Anarchist; Or, The Doom of the Great City  by Fawcett, E. Douglas (Edward Douglas)&#39;, </span>
<span class="c1"># &#39;[SHELF: Precursors of Science Fiction]: The Electric Man\r\nBeing the One Act Version of the Three Act Farcical Comedy of the Same Name  by Hannan, Charles&#39;, </span>
<span class="c1"># &#39;[SHELF: Precursors of Science Fiction]: A Crystal Age  by Hudson, W. H. (William Henry)&#39;, </span>
<span class="c1"># ...</span>
<span class="c1"># &#39;[SHELF: Precursors of Science Fiction]: Guirlanden um Die Urnen der Zukunft\r\nEine interessante, originelle Familiengeschichte aus dem drei und zwanzigsten Jahrhunderte  by Ruh, A. K.&#39;,</span>
<span class="hll"><span class="c1"># &#39;[SHELF: Precursors of Science Fiction]: Frankenstein; Or, The Modern Prometheus  by Shelley, Mary Wollstonecraft&#39;,</span>
</span><span class="c1"># &#39;[SHELF: Precursors of Science Fiction]: Frankenstein; Or, The Modern Prometheus  by Shelley, Mary Wollstonecraft&#39;,</span>
<span class="c1"># &#39;[SHELF: Precursors of Science Fiction]: Frankenstein; Or, The Modern Prometheus  by Shelley, Mary Wollstonecraft&#39;,</span>
<span class="c1"># &#39;[SHELF: Precursors of Science Fiction]: The Last Man  by Shelley, Mary Wollstonecraft&#39;,</span>
<span class="c1"># &#39;[SHELF: Precursors of Science Fiction]: The Strange Case of Dr. Jekyll and Mr. Hyde  by Stevenson, Robert Louis&#39;,</span>
<span class="c1"># ...</span>
</pre></div>
</div>
<p class="rubric"><strong>Searching for a subject</strong></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">subjects</span> <span class="o">=</span> <span class="n">gutenberg</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">what</span><span class="o">=</span><span class="s2">&quot;subject&quot;</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;Gothic fiction&quot;</span><span class="p">,</span> <span class="n">add</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="n">subjects</span>
<span class="c1"># [&#39;[SUBJECTS: Gothic fiction--Parodies, imitations, etc.]: The Heroine  by Barrett, Eaton Stannard&#39;,</span>
<span class="c1"># &#39;[SUBJECTS: Gothic fiction]: A Sicilian Romance  by Radcliffe, Ann Ward&#39;,</span>
<span class="c1"># &#39;[SUBJECTS: Gothic fiction]: Alonzo and Melissa; Or, The Unfeeling Father: An American Tale  by Jackson, Daniel&#39;,</span>
<span class="c1"># ...</span>
<span class="c1"># &#39;[SUBJECTS: Gothic fiction]: Dracula  by Stoker, Bram&#39;,</span>
<span class="c1"># &quot;[SUBJECTS: Gothic fiction]: Dracula&#39;s Guest  by Stoker, Bram&quot;,</span>
<span class="c1"># &#39;[SUBJECTS: Gothic fiction]: Emmeline, the Orphan of the Castle  by Smith, Charlotte&#39;,</span>
<span class="c1"># &#39;[SUBJECTS: Gothic fiction]: Fantazius Mallare: A Mysterious Oath  by Hecht, Ben&#39;,</span>
<span class="hll"><span class="c1"># &quot;[SUBJECTS: Gothic fiction]: Flower and Jewel; or, Daisy Forrest&#39;s Daughter  by Miller, Alex. McVeigh, Mrs.&quot;,</span>
</span><span class="c1"># &#39;[SUBJECTS: Gothic fiction]: Frankenstein; Or, The Modern Prometheus  by Shelley, Mary Wollstonecraft&#39;,</span>
<span class="c1"># &#39;[SUBJECTS: Gothic fiction]: Frankenstein; Or, The Modern Prometheus  by Shelley, Mary Wollstonecraft&#39;,</span>
<span class="c1"># &#39;[SUBJECTS: Gothic fiction]: Frankenstein; Or, The Modern Prometheus  by Shelley, Mary Wollstonecraft&#39;,</span>
<span class="c1"># &#39;[SUBJECTS: Gothic fiction]: Her Dark Inheritance  by Collins, E. Burke, Mrs.&#39;,</span>
<span class="c1"># ...</span>
</pre></div>
</div>
<p class="rubric"><strong>Searching for a book</strong></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">books</span> <span class="o">=</span> <span class="n">gutenberg</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">what</span><span class="o">=</span><span class="s2">&quot;books&quot;</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;Frankenstein&quot;</span><span class="p">)</span>
<span class="n">books</span>
<span class="hll"><span class="c1"># {&#39;Frankenstein; Or, Th&#39;: &lt;Book: Mary Wollstonecraft Shelley - Frankenstein; Or, The Modern Prometheus (http://www.gutenberg.org/ebooks/84)&gt;}</span>
</span></pre></div>
</div>
<p class="rubric"><strong>Searching for an author</strong></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">authors</span> <span class="o">=</span> <span class="n">gutenberg</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">what</span><span class="o">=</span><span class="s2">&quot;author&quot;</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;Shelley&quot;</span><span class="p">)</span>
<span class="n">authors</span>
<span class="c1"># {&#39;Percy Bysshe Shelley&#39;: &lt;Author: Shelley, Percy (http://www.gutenberg.org/2009/agents/1529&gt;),</span>
<span class="c1"># &#39;Henry Charles Shelley&#39;: &lt;Author: Shelley, Henry (http://www.gutenberg.org/2009/agents/2162&gt;),</span>
<span class="hll"><span class="c1"># &#39;Mary Wollstonecraft Shelley&#39;: &lt;Author: Shelley, Mary (http://www.gutenberg.org/2009/agents/61&gt;)}</span>
</span></pre></div>
</div>
</div>
<div class="section" id="get-gutenberg-s-metadata">
<h4>Get Gutenberg’s metadata<a class="headerlink" href="#get-gutenberg-s-metadata" title="Permalink to this headline">¶</a></h4>
<p class="rubric"><strong>Get book information</strong></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="hll"><span class="c1"># &#39;[SUBJECTS: Gothic fiction]: Frankenstein; Or, The Modern Prometheus  by Shelley, Mary Wollstonecraft&#39;,</span>
</span><span class="c1"># &#39;[SUBJECTS: Gothic fiction]: Her Dark Inheritance  by Collins, E. Burke, Mrs.&#39;,</span>
<span class="c1"># ...</span>

<span class="c1"># Get book example</span>

<span class="n">books</span> <span class="o">=</span> <span class="n">gutenberg</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">what</span><span class="o">=</span><span class="s2">&quot;books&quot;</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;Frankenstein&quot;</span><span class="p">)</span>
<span class="n">books</span>
<span class="c1"># {&#39;Frankenstein; Or, Th&#39;: &lt;Book: Mary Wollstonecraft Shelley - Frankenstein; Or, The Modern Prometheus (http://www.gutenberg.org/ebooks/84)&gt;}</span>

<span class="c1"># Get author example</span>

<span class="n">authors</span> <span class="o">=</span> <span class="n">gutenberg</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">what</span><span class="o">=</span><span class="s2">&quot;author&quot;</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;Shelley&quot;</span><span class="p">)</span>
<span class="n">authors</span>
<span class="c1"># {&#39;Percy Bysshe Shelley&#39;: &lt;Author: Shelley, Percy (http://www.gutenberg.org/2009/agents/1529&gt;),</span>
<span class="c1"># &#39;Henry Charles Shelley&#39;: &lt;Author: Shelley, Henry (http://www.gutenberg.org/2009/agents/2162&gt;),</span>
<span class="c1"># &#39;Mary Wollstonecraft Shelley&#39;: &lt;Author: Shelley, Mary (http://www.gutenberg.org/2009/agents/61&gt;)}</span>

<span class="c1"># Get book informatioon example</span>

<span class="n">book</span> <span class="o">=</span> <span class="n">books</span><span class="p">[</span><span class="s1">&#39;Frankenstein; Or, Th&#39;</span><span class="p">]</span>







<span class="n">gutenberg</span><span class="o">.</span><span class="n">corpus</span><span class="p">()</span><span class="o">.</span><span class="n">books</span><span class="p">(</span><span class="n">get</span><span class="o">=</span><span class="s2">&quot;The King in Yellow&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">print_info</span><span class="p">()</span>
<span class="c1"># Title       : The King in Yellow</span>
<span class="c1"># Author      : Robert William Chambers</span>
<span class="c1"># Metadata    :</span>
<span class="c1">#     - gutenberg_id: http://www.gutenberg.org/ebooks/8492</span>
<span class="c1">#     - subject     :</span>
<span class="c1">#             - Short stories, American</span>
<span class="c1">#             - Horror tales, American</span>
</pre></div>
</div>
<p class="rubric"><strong>Get book text</strong></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="hll"><span class="c1">#             - United States--Social life and customs--19th century--Fiction</span>
</span><span class="c1">#     - bookshelf   :</span>
<span class="c1">#             - Horror</span>
<span class="c1">#     - gutenberg_type: http://www.gutenberg.org/2009/pgterms/ebook</span>
</pre></div>
</div>
<p class="rubric"><strong>Get author information</strong></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="hll"><span class="c1">#     - gutenberg_downloads:         2802</span>
</span><span class="c1">#     - gutenberg_publisher: Project Gutenberg</span>
<span class="c1">#     - gutenberg_hasFormat:</span>
<span class="c1">#             - http://www.gutenberg.org/files/8492/8492-8.txt</span>
<span class="c1">#             - http://www.gutenberg.org/cache/epub/8492/pg8492.cover.small.jpg</span>
<span class="c1">#             - http://www.gutenberg.org/files/8492/8492-8.zip</span>
<span class="c1">#             - http://www.gutenberg.org/ebooks/8492.rdf</span>
<span class="c1">#             - http://www.gutenberg.org/files/8492/8492-h.zip</span>
<span class="c1">#             - http://www.gutenberg.org/files/8492/8492.txt</span>
<span class="c1">#             - http://www.gutenberg.org/ebooks/8492.epub.images</span>
<span class="c1">#             - http://www.gutenberg.org/files/8492/8492.zip</span>
<span class="c1">#             - http://www.gutenberg.org/ebooks/8492.kindle.noimages</span>
<span class="c1">#             - http://www.gutenberg.org/files/8492/8492-h/8492-h.htm</span>
<span class="c1">#             - http://www.gutenberg.org/ebooks/8492.txt.utf-8</span>
<span class="c1">#             - http://www.gutenberg.org/ebooks/8492.kindle.images</span>
<span class="c1">#             - http://www.gutenberg.org/ebooks/8492.epub.noimages</span>
<span class="c1">#             - http://www.gutenberg.org/cache/epub/8492/pg8492.cover.medium.jpg</span>
<span class="c1">#     - gutenberg_language:           en</span>
<span class="c1">#     - gutenberg_rights: Public domain in the USA.</span>
<span class="c1">#     - gutenberg_title: The King in Yellow</span>
<span class="c1">#     - gutenberg_issued:   2005-07-01</span>
<span class="c1">#     - gutenberg_creator: http://www.gutenberg.org/2009/agents/38191</span>
<span class="c1">#     - gutenberg_license: http://www.gutenberg.org/license</span>
<span class="c1">#     - gutenberg_tableOfContents: http://www.gutenberg.org/ebooks/8492#_toc</span>
<span class="n">gutenberg</span><span class="o">.</span><span class="n">corpus</span><span class="p">()</span><span class="o">.</span><span class="n">books</span><span class="p">(</span><span class="n">get</span><span class="o">=</span><span class="s2">&quot;The King in Yellow&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">original_text</span><span class="p">()[:</span><span class="mi">50</span><span class="p">]</span>
<span class="c1">#</span>
<span class="c1"># http://aleph.gutenberg.org/8/4/9/8492/8492 down?</span>
<span class="c1">#</span>
<span class="n">gutenberg</span><span class="o">.</span><span class="n">corpus</span><span class="p">()</span><span class="o">.</span><span class="n">books</span><span class="p">(</span><span class="n">get</span><span class="o">=</span><span class="s2">&quot;The King in Yellow&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">get_author</span><span class="p">()</span><span class="o">.</span><span class="n">print_info</span><span class="p">()</span>
<span class="c1"># Robert William Chambers</span>
<span class="c1"># Metadata    :</span>
<span class="c1">#     - gutenberg_id: http://www.gutenberg.org/2009/agents/38191</span>
<span class="c1">#     - gutenberg_name: Chambers, Robert W. (Robert William)</span>
<span class="c1">#     - alias       :</span>
<span class="c1">#             - Robert W. Chambers</span>
<span class="c1">#             - Chambers, Robert William</span>
<span class="c1">#     - name        : Robert William Chambers</span>
<span class="c1">#     - birth_date  :         1865</span>
<span class="c1">#     - death_date  :         1933</span>
<span class="c1">#     - webpage     : http://en.wikipedia.org/wiki/Robert_W._Chambers</span>
<span class="c1">#     - gutenberg_type: http://www.gutenberg.org/2009/pgterms/agent</span>
<span class="c1">#     - bibliography:</span>
<span class="c1">#             - A Young Man in a Hurry, and Other Short Stories</span>
<span class="c1">#             - Ailsa Paige: A Novel</span>
<span class="c1">#             - Athalie</span>
<span class="c1">#             - Barbarians</span>
<span class="c1">#             - Between Friends</span>
<span class="c1">#             - Blue-Bird Weather</span>
<span class="c1">#             - Cardigan</span>
<span class="c1">#             - In Search of the Unknown</span>
<span class="c1">#             - In Secret</span>
<span class="c1">#             - In the Quarter</span>
<span class="c1">#             - Iole</span>
<span class="c1">#             - Japonette</span>
<span class="c1">#             - Lorraine: A Romance</span>
<span class="c1">#             - Police!!!</span>
<span class="c1">#             - Quick Action</span>
</pre></div>
</div>
<p class="rubric"><strong>Get author information from book</strong></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="hll"><span class="c1">#     - gutenberg_downloads:         2802</span>
</span><span class="c1">#     - gutenberg_publisher: Project Gutenberg</span>
<span class="c1">#     - gutenberg_hasFormat:</span>
<span class="c1">#             - http://www.gutenberg.org/files/8492/8492-8.txt</span>
<span class="c1">#             - http://www.gutenberg.org/cache/epub/8492/pg8492.cover.small.jpg</span>
<span class="c1">#             - http://www.gutenberg.org/files/8492/8492-8.zip</span>
<span class="c1">#             - http://www.gutenberg.org/ebooks/8492.rdf</span>
<span class="c1">#             - http://www.gutenberg.org/files/8492/8492-h.zip</span>
<span class="c1">#             - http://www.gutenberg.org/files/8492/8492.txt</span>
<span class="c1">#             - http://www.gutenberg.org/ebooks/8492.epub.images</span>
<span class="c1">#             - http://www.gutenberg.org/files/8492/8492.zip</span>
<span class="c1">#             - http://www.gutenberg.org/ebooks/8492.kindle.noimages</span>
<span class="c1">#             - http://www.gutenberg.org/files/8492/8492-h/8492-h.htm</span>
<span class="c1">#             - http://www.gutenberg.org/ebooks/8492.txt.utf-8</span>
<span class="c1">#             - http://www.gutenberg.org/ebooks/8492.kindle.images</span>
<span class="c1">#             - http://www.gutenberg.org/ebooks/8492.epub.noimages</span>
<span class="c1">#             - http://www.gutenberg.org/cache/epub/8492/pg8492.cover.medium.jpg</span>
<span class="c1">#     - gutenberg_language:           en</span>
<span class="c1">#     - gutenberg_rights: Public domain in the USA.</span>
<span class="c1">#     - gutenberg_title: The King in Yellow</span>
<span class="c1">#     - gutenberg_issued:   2005-07-01</span>
<span class="c1">#     - gutenberg_creator: http://www.gutenberg.org/2009/agents/38191</span>
<span class="c1">#     - gutenberg_license: http://www.gutenberg.org/license</span>
<span class="c1">#     - gutenberg_tableOfContents: http://www.gutenberg.org/ebooks/8492#_toc</span>
<span class="n">gutenberg</span><span class="o">.</span><span class="n">corpus</span><span class="p">()</span><span class="o">.</span><span class="n">books</span><span class="p">(</span><span class="n">get</span><span class="o">=</span><span class="s2">&quot;The King in Yellow&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">original_text</span><span class="p">()[:</span><span class="mi">50</span><span class="p">]</span>
<span class="c1">#</span>
<span class="c1"># http://aleph.gutenberg.org/8/4/9/8492/8492 down?</span>
<span class="c1">#</span>
<span class="n">gutenberg</span><span class="o">.</span><span class="n">corpus</span><span class="p">()</span><span class="o">.</span><span class="n">books</span><span class="p">(</span><span class="n">get</span><span class="o">=</span><span class="s2">&quot;The King in Yellow&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">get_author</span><span class="p">()</span><span class="o">.</span><span class="n">print_info</span><span class="p">()</span>
<span class="c1"># Robert William Chambers</span>
<span class="c1"># Metadata    :</span>
<span class="c1">#     - gutenberg_id: http://www.gutenberg.org/2009/agents/38191</span>
<span class="c1">#     - gutenberg_name: Chambers, Robert W. (Robert William)</span>
<span class="c1">#     - alias       :</span>
<span class="c1">#             - Robert W. Chambers</span>
<span class="c1">#             - Chambers, Robert William</span>
<span class="c1">#     - name        : Robert William Chambers</span>
<span class="c1">#     - birth_date  :         1865</span>
<span class="c1">#     - death_date  :         1933</span>
<span class="c1">#     - webpage     : http://en.wikipedia.org/wiki/Robert_W._Chambers</span>
<span class="c1">#     - gutenberg_type: http://www.gutenberg.org/2009/pgterms/agent</span>
<span class="c1">#     - bibliography:</span>
<span class="c1">#             - A Young Man in a Hurry, and Other Short Stories</span>
<span class="c1">#             - Ailsa Paige: A Novel</span>
<span class="c1">#             - Athalie</span>
<span class="c1">#             - Barbarians</span>
<span class="c1">#             - Between Friends</span>
<span class="c1">#             - Blue-Bird Weather</span>
<span class="c1">#             - Cardigan</span>
<span class="c1">#             - In Search of the Unknown</span>
<span class="c1">#             - In Secret</span>
<span class="c1">#             - In the Quarter</span>
<span class="c1">#             - Iole</span>
<span class="c1">#             - Japonette</span>
<span class="c1">#             - Lorraine: A Romance</span>
<span class="c1">#             - Police!!!</span>
<span class="c1">#             - Quick Action</span>
</pre></div>
</div>
<p class="rubric"><strong>Save Corpus</strong></p>
<p>Before saving the Corpus to disk, it is important to review the Corpus descriptions,
particularly the corpus name, which is used as the directory where the books will be stored.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1">#             - Special Messenger</span>
<span class="hll"><span class="c1">#             - The Adventures of a Modest Man</span>
</span><span class="hll"><span class="c1">#             - The Business of Life</span>
</span><span class="c1">#             - The Common Law</span>
<span class="c1">#             - The Crimson Tide: A Novel</span>
<span class="c1">#             - The Danger Mark</span>
<span class="c1">#             - The Dark Star</span>
<span class="c1">#             - The Fighting Chance</span>
<span class="c1">#             - The Firing Line</span>
<span class="c1">#             - The Flaming Jewel</span>
<span class="c1">#             - The Gay Rebellion</span>
<span class="c1">#             - The Girl Philippa</span>
<span class="c1">#             - The Green Mouse</span>
<span class="c1">#             - The Hidden Children</span>
<span class="c1">#             - The King in Yellow</span>
<span class="c1">#             - The Laughing Girl</span>
<span class="c1">#             - The Little Red Foot</span>
<span class="c1">#             - The Maid-At-Arms: A Novel</span>
<span class="c1">#             - The Maids of Paradise</span>
<span class="c1">#             - The Moonlit Way: A Novel</span>
<span class="hll"><span class="c1">#             - The Mystery of Choice</span>
</span><span class="c1">#             - The Reckoning</span>
<span class="c1">#             - The Restless Sex</span>
<span class="c1">#             - The Slayer of Souls</span>
<span class="c1">#             - The Streets of Ascalon: Episodes in the Unfinished Career of Richard Quarren, Esqre.</span>
<span class="c1">#             - The Tracer of Lost Persons</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="dbpedia">
<h2>Dbpedia<a class="headerlink" href="#dbpedia" title="Permalink to this headline">¶</a></h2>
<p>IT LOOKS LIKE metadata is not test (wrapped by Gutenberg) as per issue #6</p>
<p class="rubric">Retrieving/adding metadata: the DbpediaMetadata() class</p>
<p>Another important class of DHTK is the DbpediaMetadata() class. Dbpedia is an API of Wikipedia. This API allows retrieving secondary information (metadata) from Wikipedia notes. The Dbpedia() class is initialized as follows:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">dhtk.metadata.dbpedia</span> <span class="kn">import</span> <span class="n">DbpediaMetadata</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dbpedia_metadata</span> <span class="o">=</span> <span class="n">DbpediaMetadata</span><span class="p">()</span>
</pre></div>
</div>
<p>The DbpediaMetadata() objects give you access to several methods, including, but not limited to:</p>
<ul class="simple">
<li><p>get_book_metadata()</p></li>
<li><p>get_author_metadata()</p></li>
</ul>
<p>The get_book_metadata() method is used as follows:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">dhtk.metadata.dbpedia</span> <span class="kn">import</span> <span class="n">DbpediaMetadata</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dbpedia_metadata</span> <span class="o">=</span> <span class="n">DbpediaMetadata</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">book_metadata</span> <span class="o">=</span> <span class="n">dbpedia_metadata</span><span class="o">.</span><span class="n">get_book_metadata</span><span class="p">(</span><span class="n">book</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">book</span><span class="o">.</span><span class="n">update_metadata</span><span class="p">(</span><span class="n">book_metadata</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">book</span><span class="o">.</span><span class="n">print_info</span><span class="p">()</span>
</pre></div>
</div>
<p>Note that metadata can be saved and used to update the “metadata” field of your Book() objects. The DbpediaMetadata() contains other methods as well. To get more information on those, please see the documentation.</p>
<div class="section" id="search-metadata">
<h3>Search metadata<a class="headerlink" href="#search-metadata" title="Permalink to this headline">¶</a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>
<span class="kn">from</span> <span class="nn">dhtk.catalogs.gutenberg.data</span> <span class="kn">import</span> <span class="n">GutenbergData</span>
<span class="kn">from</span> <span class="nn">dhtk.metadata.dbpedia</span> <span class="kn">import</span> <span class="n">DbpediaMetadata</span>

<span class="c1"># Initialise class GutenbergData as gutenberg_search</span>
<span class="n">gutenberg_search</span> <span class="o">=</span> <span class="n">GutenbergData</span><span class="p">()</span>

<span class="c1"># search the book using gutenberg_id&quot;&quot;&quot;</span>
<span class="n">book</span> <span class="o">=</span> <span class="n">gutenberg_search</span><span class="o">.</span><span class="n">get_book</span><span class="p">(</span><span class="s1">&#39;http://www.gutenberg.org/ebooks/2489&#39;</span><span class="p">)</span>

<span class="c1"># Initialise class DbpediaMetadata as dbpedia_metadata</span>
<span class="n">dbpedia_metadata</span> <span class="o">=</span> <span class="n">DbpediaMetadata</span><span class="p">()</span>

<span class="c1"># get the metadata of book from bdpedia and add it to the book_id</span>
<span class="n">dbpedia_uri</span> <span class="o">=</span> <span class="n">dbpedia_metadata</span><span class="o">.</span><span class="n">get_books_metadata_uri</span><span class="p">(</span><span class="n">book</span><span class="p">)</span>
<span class="n">metadata</span> <span class="o">=</span> <span class="n">dbpedia_metadata</span><span class="o">.</span><span class="n">get_book_metadata</span><span class="p">(</span><span class="n">book</span><span class="p">)</span>
<span class="n">book</span><span class="o">.</span><span class="n">update_metadata</span><span class="p">(</span><span class="n">metadata</span><span class="p">)</span>

<span class="c1"># print the medata of book from dbpedia</span>
<span class="n">pprint</span><span class="p">(</span><span class="n">book</span><span class="o">.</span><span class="n">metadata</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</div>


          </div>
        </div>
          </div>
        </div>
      </div>
    </div>

    <div class="container container-navbar-bottom">
      <div class="spc-navbar">
        
      </div>
    </div>
    <div class="container">
    <div class="footer">
    <div class="row-fluid">
    <ul class="inline pull-left">
      <li>
        &copy; Copyright 2020, Davide Picca, Mattia Egloff and Carlos Neves
      </li>
      <li>
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 3.3.1.
      </li>
    </ul>
    </div>
    </div>
    </div>
  </body>
</html>